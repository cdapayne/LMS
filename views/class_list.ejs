<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Class List â€“ School LMS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <%- include('header', { user: { role: 'admin' } }) %>
  <div class="container py-4">
    <h2>All Classes</h2>
    <table class="table table-bordered">
      <thead><tr><th>ID</th><th>Name</th><th>Teacher</th><th>Students</th><th>Action</th></tr></thead>
      <tbody>
      <% classes.forEach(k => { %>
        <tr>
          <td><%= k.id %></td>
          <td><%= k.name %></td>
          <td><%= teacherMap[k.teacherId] || 'Unknown' %></td>
          <td><%= (k.studentIds||[]).length %></td>
          <td><a class="btn btn-sm btn-outline-primary" href="/admin/classes/<%= k.id %>">Open</a></td>
        </tr>
      <% }) %>
      </tbody>
    </table>
  </div>
</body>
</html>
